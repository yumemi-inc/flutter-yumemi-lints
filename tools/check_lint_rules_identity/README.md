# Previous Lint Rule Check CLI
The CLI checks whether a particular version of a lint rule is identical to a previous version of the rule.

## Get Started

### 1. Install Dart SDK

Before using this tool, make sure you have the Dart SDK installed. You can follow the instructions in the official
documentation to install the Dart SDK and set up the `dart` command:

[Install Dart SDK]

> **Note**
> Ensure that your Dart SDK version is `3.1.0`.

### 2. Install Dependencies

After installing the Dart SDK, you need to install the project dependencies using the following command:

```shell
dart pub get
```

## Usage

> **Note**
> This package is intended for use exclusively within the GitHub Actions workflow of
> [yumemi-inc/flutter-yumemi-lints] and is not published on [Pub.dev].

To check the lint rule, do the following:
1. Prepare a folder of Lint generated by the Lint Rules Updater CLI. (`<lint-rules-dir-path>`)
2. Find the version file of the lint you want to check in that folder and write the Path in a text file, line by line. (`<version-file-path>`)
3. Execute the following command.

```shell
dart run bin/update_lint_rules.dart <version-file-path> <lint-rules-dir-path>
```

Correct structure of the generated lint rule:
```
lint-rules
├── dart
│   ├── 2.17.0
│   │   ├── all.yaml
│   │   └── recommended.yaml
│   ├── 2.17.1
│   │   ├── all.yaml
│   │   └── recommended.yaml
~~~~~~
~~~~~~
│   ├── 3.2.3
│   │   ├── all.yaml
│   │   └── recommended.yaml
│   └── 3.2.4
│       ├── all.yaml
│       └── recommended.yaml
└── flutter
    ├── 3.0.0
    │   ├── all.yaml
    │   └── recommended.yaml
    ├── 3.0.1
    │   ├── all.yaml
    │   └── recommended.yaml
~~~~~~
~~~~~~
    ├── 3.7.8
    │   ├── all.yaml
    │   └── recommended.yaml
    └── 3.7.9
        ├── all.yaml
        └── recommended.yaml
```

Text file describing the path of the lint rule to be checked (version.txt):
```
lint-rules/dart/3.2.3/all.yaml
lint-rules/dart/3.2.3/recommended.yaml
lint-rules/dart/3.2.4/all.yaml
lint-rules/dart/3.2.4/recommended.yaml
lint-rules/flutter/3.16.1/all.yaml
lint-rules/flutter/3.16.1/recommended.yaml
lint-rules/flutter/3.16.2/all.yaml
lint-rules/flutter/3.16.2/recommended.yaml
```
> **Note**:
> Paths must contain `<lint-type>/<version>`.\
> Example: `dart/3.2.3`
>
> If the path does not contain it, the path will not be parsed successfully and **the CLI will exit with an exception**.


<!-- Links -->

[Install Dart SDK]: https://dart.dev/get-dart

[yumemi-inc/flutter-yumemi-lints]: https://github.com/yumemi-inc/flutter-yumemi-lints

[Pub.dev]: https://pub.dev/
